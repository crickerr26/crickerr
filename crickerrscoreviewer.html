<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>CRiCKERR_Score Book</title>
    
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Oswald:wght@500;700&display=swap" rel="stylesheet">

    <style>
        body { background-color: #121212; color: #e0e0e0; font-family: 'Inter', sans-serif; }
        .font-oswald { font-family: 'Oswald', sans-serif; }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #1e1e1e; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #555; }

        /* Tab Animation */
        .tab-btn { position: relative; color: #888; transition: color 0.3s; }
        .tab-btn.active { color: white; }
        .tab-btn.active::after {
            content: ''; position: absolute; bottom: -12px; left: 0; width: 100%; height: 3px;
            background-color: #3b82f6;
        }

        /* Card Styles */
        .match-card { background: #1e1e1e; transition: transform 0.2s, background 0.2s; position: relative; }
        .match-card:hover { transform: translateY(-2px); background: #252525; }
        
        .ball-circle {
            width: 24px; height: 24px; display: flex; align-items: center; justify-content: center;
            border-radius: 50%; font-size: 10px; font-weight: bold; color: black; background: white;
        }
        .bg-4 { background-color: #3b82f6; color: white; }
        .bg-6 { background-color: #22c55e; color: white; }
        .bg-w { background-color: #ef4444; color: white; }

        .delete-btn {
            position: absolute; bottom: 10px; right: 10px;
            width: 28px; height: 28px;
            display: flex; align-items: center; justify-content: center;
            border-radius: 50%; background: rgba(30, 30, 30, 0.8); border: 1px solid #333;
            color: #ef4444;
            font-size: 14px; cursor: pointer; opacity: 0.7; transition: all 0.2s;
            z-index: 20;
        }
        .delete-btn:hover { background: #ef4444; color: white; opacity: 1; border-color: #ef4444; }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <nav class="bg-[#1e1e1e] border-b border-gray-800 p-4 sticky top-0 z-50">
        <div class="max-w-4xl mx-auto flex items-center justify-between">
            <div class="flex items-center gap-3">
                <img src="crickerrlogo.png" onerror="this.style.display='none'" class="h-8">
                <h1 class="font-oswald text-xl uppercase tracking-wider text-white">CRiCKERR MATCHES</h1>
            </div>
            
            <div class="flex items-center gap-4">
                <button id="share-btn" onclick="shareMatch()" class="hidden flex items-center gap-2 text-sm font-bold text-blue-400 hover:text-blue-300 uppercase tracking-wider bg-blue-900/20 px-3 py-1.5 rounded-full border border-blue-900/50 transition-colors">
                    <span>üîó Share</span>
                </button>

                <button id="back-btn" onclick="showHome()" class="hidden text-sm font-bold text-gray-400 hover:text-white uppercase tracking-wider">
                    ‚Üê Back
                </button>
            </div>
        </div>
    </nav>

    <div id="home-view" class="flex-grow p-4 max-w-4xl mx-auto w-full">
        
        <div class="mb-8">
            <h2 class="text-sm font-bold text-red-500 uppercase tracking-widest mb-3 flex items-center gap-2">
                <span class="w-2 h-2 bg-red-500 rounded-full animate-pulse"></span> Live Now
            </h2>
            <div id="live-list" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="text-gray-500 text-sm italic">Searching for live matches...</div>
            </div>
        </div>

        <div>
            <h2 class="text-sm font-bold text-gray-400 uppercase tracking-widest mb-3">Recent Results</h2>
            <div id="completed-list" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                </div>
        </div>
    </div>

    <div id="detail-view" class="hidden flex-grow flex flex-col max-w-4xl mx-auto w-full bg-[#121212]">
        
        <div class="bg-[#1e1e1e] p-6 pb-0 border-b border-gray-800">
            <div class="flex justify-between text-xs text-gray-400 uppercase tracking-wider font-bold mb-6">
                <span id="d-venue">Loading...</span>
                <span id="d-date"></span>
            </div>

            <div class="flex justify-between items-center mb-6">
                <div class="flex flex-col items-start w-1/3">
                    <img id="d-t1-logo" class="w-16 h-16 object-cover rounded-full bg-gray-800 mb-2 border border-gray-700">
                    <div class="text-xl font-bold text-white leading-tight" id="d-t1-name">TEAM 1</div>
                    <div class="text-gray-400 text-sm mt-1" id="d-t1-score"></div>
                </div>

                <div class="text-center w-1/3">
                    <div class="text-2xl font-black text-gray-600">VS</div>
                    <div id="d-status" class="mt-2 inline-block px-3 py-1 bg-blue-900/30 text-blue-400 text-xs font-bold rounded-full uppercase tracking-wide border border-blue-800">
                        LIVE
                    </div>
                </div>

                <div class="flex flex-col items-end w-1/3 text-right">
                    <img id="d-t2-logo" class="w-16 h-16 object-cover rounded-full bg-gray-800 mb-2 border border-gray-700">
                    <div class="text-xl font-bold text-white leading-tight" id="d-t2-name">TEAM 2</div>
                    <div class="text-gray-400 text-sm mt-1" id="d-t2-score"></div>
                </div>
            </div>

            <div class="text-center pb-6 border-b border-gray-800">
                <p id="d-result-text" class="text-white font-bold text-lg hidden">Team Won by X Runs</p>
                <p id="d-req-text" class="text-yellow-500 font-medium text-sm"></p>
            </div>

            <div class="flex justify-center gap-10 pt-4 pb-3">
                <button onclick="switchTab('summary')" id="tab-summary" class="tab-btn active text-sm font-bold uppercase tracking-wider pb-3">Summary</button>
                <button onclick="switchTab('scorecard')" id="tab-scorecard" class="tab-btn text-sm font-bold uppercase tracking-wider pb-3">Scorecard</button>
                <button onclick="switchTab('commentary')" id="tab-commentary" class="tab-btn text-sm font-bold uppercase tracking-wider pb-3">Ball by Ball</button>
            </div>
        </div>

        <div id="view-summary" class="p-4 space-y-4">
            <div id="pom-card" class="hidden bg-[#252525] p-4 rounded-lg border border-gray-800">
                <h3 class="text-xs text-yellow-500 font-bold uppercase tracking-widest mb-1">Player of the Match</h3>
                <div class="flex items-center justify-between">
                    <span id="pom-name" class="text-lg font-bold text-white"></span>
                    <span id="pom-stats" class="text-sm text-gray-400"></span>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="bg-[#1e1e1e] rounded-lg border border-gray-800 p-4">
                    <h3 class="text-xs text-gray-500 font-bold uppercase tracking-widest mb-4">Top Batters</h3>
                    <div id="summary-batters" class="space-y-3"></div>
                </div>
                <div class="bg-[#1e1e1e] rounded-lg border border-gray-800 p-4">
                    <h3 class="text-xs text-gray-500 font-bold uppercase tracking-widest mb-4">Top Bowlers</h3>
                    <div id="summary-bowlers" class="space-y-3"></div>
                </div>
            </div>

            <div class="bg-[#1e1e1e] p-4 rounded-lg border border-gray-800 text-center">
                <p id="toss-info" class="text-sm text-gray-400">Toss information not available</p>
            </div>
        </div>

        <div id="view-scorecard" class="hidden p-4 space-y-6">
            <div class="bg-[#1e1e1e] rounded-lg overflow-hidden border border-gray-800">
                <div class="bg-[#252525] p-3 text-sm font-bold text-white uppercase tracking-wider border-b border-gray-800">Batting</div>
                <table class="w-full text-left text-sm">
                    <thead class="text-xs text-gray-500 bg-[#181818] border-b border-gray-800">
                        <tr><th class="p-3">Batter</th><th class="p-3 text-right">R</th><th class="p-3 text-right">B</th><th class="p-3 text-right hidden sm:table-cell">4s</th><th class="p-3 text-right hidden sm:table-cell">6s</th><th class="p-3 text-right">SR</th></tr>
                    </thead>
                    <tbody id="full-batting-table" class="divide-y divide-gray-800 text-gray-300"></tbody>
                </table>
            </div>

            <div class="bg-[#1e1e1e] rounded-lg overflow-hidden border border-gray-800">
                <div class="bg-[#252525] p-3 text-sm font-bold text-white uppercase tracking-wider border-b border-gray-800">Bowling</div>
                <table class="w-full text-left text-sm">
                    <thead class="text-xs text-gray-500 bg-[#181818] border-b border-gray-800">
                        <tr><th class="p-3">Bowler</th><th class="p-3 text-right">O</th><th class="p-3 text-right">R</th><th class="p-3 text-right">W</th><th class="p-3 text-right">Econ</th></tr>
                    </thead>
                    <tbody id="full-bowling-table" class="divide-y divide-gray-800 text-gray-300"></tbody>
                </table>
            </div>
        </div>

        <div id="view-commentary" class="hidden p-4">
            <div class="bg-[#1e1e1e] rounded-lg border border-gray-800 p-4 mb-4">
                <h3 class="text-xs text-blue-400 font-bold uppercase tracking-widest mb-3">Current Over</h3>
                <div id="comm-current-over" class="flex gap-2 mb-2 overflow-x-auto pb-2"></div>
            </div>

            <div id="comm-history-list" class="space-y-2">
                </div>
        </div>

    </div>

    <script>
        // --- CONFIGURATION ---
        const firebaseConfig = { apiKey: "AIzaSyBqcD59IAPpKqk98oDZkgzgkoVZ8b8LGgY", authDomain: "livecricketscoring-92087.firebaseapp.com", databaseURL: "https://livecricketscoring-92087-default-rtdb.firebaseio.com", projectId: "livecricketscoring-92087", storageBucket: "livecricketscoring-92087.firebasestorage.app", messagingSenderId: "522927197627", appId: "1:522927197627:web:f1df5db736cae96893089e" };
        if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        let activeListener = null;
        let currentMatchId = null;

        // --- INIT WITH DEEP LINKING ---
        window.onload = function() {
            // Check for ?id=MATCH_ID in the URL
            const urlParams = new URLSearchParams(window.location.search);
            const matchId = urlParams.get('id');

            if (matchId) {
                // If ID exists, open that match directly
                openMatch(matchId);
            } else {
                // Otherwise show list
                loadMatchList();
            }
        };

        // --- SHARE LOGIC ---
        async function shareMatch() {
            if (!currentMatchId) return;
            
            // Construct the sharing URL
            const shareUrl = `${window.location.origin}${window.location.pathname}?id=${currentMatchId}`;
            const shareData = {
                title: 'CRiCKERR Match Score',
                text: 'Follow the live cricket match on CRiCKERR!',
                url: shareUrl
            };

            // Use Web Share API if available (Mobile)
            if (navigator.share) {
                try {
                    await navigator.share(shareData);
                } catch (err) {
                    console.log('Share canceled');
                }
            } else {
                // Fallback for Desktop: Copy to Clipboard
                try {
                    await navigator.clipboard.writeText(shareUrl);
                    alert("Match Link Copied to Clipboard!");
                } catch (err) {
                    prompt("Copy this link:", shareUrl);
                }
            }
        }

        function loadMatchList() {
            const liveContainer = document.getElementById('live-list');
            const completedContainer = document.getElementById('completed-list');
            liveContainer.innerHTML = '<div class="text-gray-500 text-sm italic col-span-2">Loading matches...</div>';
            completedContainer.innerHTML = '';

            const now = new Date();
            const twoDaysAgo = new Date(now.getTime() - (48 * 60 * 60 * 1000));
            const halfDayAgo = new Date(now.getTime() - (12 * 60 * 60 * 1000));

            db.collection('live_matches').get().then(snapshot => {
                liveContainer.innerHTML = '';
                let liveCount = 0;
                let completedCount = 0;

                snapshot.forEach(doc => {
                    const m = doc.data();
                    const id = doc.id;
                    const isComplete = m.matchStatus === "COMPLETE";
                    
                    let isRelevant = true;
                    const lastUpdate = m.timestamp ? m.timestamp.toDate() : new Date(0); 

                    // 1. FILTER: Delete logic for view
                    if (isComplete) {
                        if (lastUpdate < twoDaysAgo) isRelevant = false;
                    } else {
                        if (lastUpdate < halfDayAgo) isRelevant = false;
                    }

                    if (isRelevant) {
                        const card = createMatchCard(id, m);
                        if (isComplete) {
                            completedContainer.innerHTML += card;
                            completedCount++;
                        } else {
                            liveContainer.innerHTML += card;
                            liveCount++;
                        }
                    }
                });

                if (liveCount === 0) liveContainer.innerHTML = '<div class="text-gray-600 text-sm italic col-span-2 p-4 text-center border border-gray-800 rounded">No live matches found (matches expire after 12h inactivity).</div>';
                if (completedCount === 0) completedContainer.innerHTML = '<div class="text-gray-600 text-sm italic col-span-2 p-4 text-center">No recent results found (older than 48h removed).</div>';
            });
        }

        function deleteMatch(id, e) {
            e.stopPropagation(); // Prevent opening the match
            const code = prompt("Enter Admin Code to DELETE this match permanently:");
            
            if (code === "2626") {
                if(confirm("Are you sure? This cannot be undone.")) {
                    db.collection('live_matches').doc(id).delete().then(() => {
                        alert("Match Deleted Successfully.");
                        loadMatchList(); // Refresh UI
                    }).catch(error => {
                        alert("Error removing match: " + error.message);
                    });
                }
            } else if (code !== null) {
                alert("Incorrect Code!");
            }
        }

        function createMatchCard(id, m) {
            const t1Score = m.resultT1 ? m.resultT1.score : `${m.score}/${m.wickets}`;
            const statusText = m.matchStatus === "COMPLETE" ? `<span class="text-gray-400">${m.resultSub || "Result"}</span>` : `<span class="text-red-500 animate-pulse">‚óè LIVE</span>`;
            
            let mainScore = "";
            if (m.matchStatus === "COMPLETE") {
                mainScore = `<div class="text-xs text-gray-400 mt-2">${m.resultMain}</div>`;
            } else {
                const chasing = m.target > 0 ? `Target: ${m.target}` : "1st Innings";
                mainScore = `<div class="text-xs text-blue-400 mt-2">${chasing}</div>`;
            }

            return `
            <div onclick="openMatch('${id}')" class="match-card cursor-pointer p-5 rounded-xl border border-gray-800 pb-10">
                <div class="flex justify-between items-start mb-4">
                    <span class="text-[10px] font-bold text-gray-500 uppercase tracking-widest">${m.venue || 'Unknown Ground'}</span>
                    <span class="text-[10px] font-bold uppercase tracking-widest">${statusText}</span>
                </div>
                
                <div class="flex justify-between items-center mb-2">
                    <div class="flex items-center gap-3">
                        <img src="${m.t1Logo || 'https://placehold.co/40x40/333/888?text=T1'}" class="w-8 h-8 rounded-full object-cover">
                        <span class="font-bold text-white text-sm">${m.t1}</span>
                    </div>
                    <div class="text-right">
                        ${m.matchStatus === 'COMPLETE' && m.resultT1 ? `<span class="font-bold text-white">${m.resultT1.score}</span> <span class="text-xs text-gray-500">(${m.resultT1.overs})</span>` : (m.t1 === m.battingTeam ? `<span class="font-bold text-white">${m.score}/${m.wickets}</span>` : '-')}
                    </div>
                </div>

                <div class="flex justify-between items-center">
                    <div class="flex items-center gap-3">
                        <img src="${m.t2Logo || 'https://placehold.co/40x40/333/888?text=T2'}" class="w-8 h-8 rounded-full object-cover">
                        <span class="font-bold text-white text-sm">${m.t2}</span>
                    </div>
                    <div class="text-right">
                         ${m.matchStatus === 'COMPLETE' && m.resultT2 ? `<span class="font-bold text-white">${m.resultT2.score}</span> <span class="text-xs text-gray-500">(${m.resultT2.overs})</span>` : (m.t2 === m.battingTeam ? `<span class="font-bold text-white">${m.score}/${m.wickets}</span>` : '-')}
                    </div>
                </div>
                ${mainScore}
                
                <div class="delete-btn" onclick="deleteMatch('${id}', event)">üóëÔ∏è</div>
            </div>`;
        }

        // --- MATCH DETAILS ---
        function openMatch(id) {
            currentMatchId = id;
            document.getElementById('home-view').classList.add('hidden');
            document.getElementById('detail-view').classList.remove('hidden');
            document.getElementById('back-btn').classList.remove('hidden');
            document.getElementById('share-btn').classList.remove('hidden');
            document.getElementById('share-btn').style.display = 'flex'; // Ensure flex layout for button
            
            if (activeListener) activeListener(); // Unsubscribe prev

            activeListener = db.collection('live_matches').doc(id).onSnapshot(doc => {
                if (doc.exists) renderMatchDetails(doc.data());
            });
        }

        function showHome() {
            // Clear the ?id= from URL so back button works nicely
            window.history.pushState({}, document.title, window.location.pathname);

            if (activeListener) activeListener();
            document.getElementById('detail-view').classList.add('hidden');
            document.getElementById('home-view').classList.remove('hidden');
            document.getElementById('back-btn').classList.add('hidden');
            document.getElementById('share-btn').classList.add('hidden');
            
            loadMatchList(); // Refresh list
        }

        function renderMatchDetails(data) {
            document.getElementById('d-venue').innerText = data.venue || "Indoor Arena";
            document.getElementById('d-date').innerText = data.matchDate || "";
            
            document.getElementById('d-t1-name').innerText = data.t1;
            document.getElementById('d-t1-logo').src = data.t1Logo || "";
            document.getElementById('d-t2-name').innerText = data.t2;
            document.getElementById('d-t2-logo').src = data.t2Logo || "";

            let t1Text = "0/0"; let t2Text = "0/0";
            
            if (data.matchStatus === "COMPLETE") {
                document.getElementById('d-status').innerText = "RESULT";
                document.getElementById('d-status').className = "mt-2 inline-block px-3 py-1 bg-gray-800 text-gray-300 text-xs font-bold rounded-full uppercase tracking-wide border border-gray-700";
                
                if(data.resultT1) t1Text = `${data.resultT1.score} <span class="text-sm font-normal text-gray-500">(${data.resultT1.overs})</span>`;
                if(data.resultT2) t2Text = `${data.resultT2.score} <span class="text-sm font-normal text-gray-500">(${data.resultT2.overs})</span>`;
                
                document.getElementById('d-result-text').classList.remove('hidden');
                document.getElementById('d-result-text').innerText = data.resultMain || "Match Complete";
                document.getElementById('d-req-text').innerText = data.resultSub || "";
                
                if (data.pom) {
                    document.getElementById('pom-card').classList.remove('hidden');
                    document.getElementById('pom-name').innerText = data.pom.name;
                    document.getElementById('pom-stats').innerText = data.pom.stats;
                }
            } else {
                document.getElementById('d-status').innerText = "LIVE";
                document.getElementById('d-result-text').classList.add('hidden');
                
                const currentScore = `${data.score}/${data.wickets} <span class="text-sm font-normal text-gray-500">(${data.overs}.${data.balls})</span>`;
                
                if (data.target > 0) {
                    t1Text = `Target: ${data.target}`; 
                    t2Text = currentScore;
                    
                    const needed = data.target - data.score;
                    const ballsRem = (data.totalOvers * 6) - ((data.overs * 6) + data.balls);
                    document.getElementById('d-req-text').innerText = `Need ${needed} runs in ${ballsRem} balls`;
                } else {
                    t1Text = currentScore;
                    t2Text = "Yet to bat";
                    document.getElementById('d-req-text').innerText = `Current Run Rate: ${(data.score / Math.max(1, (data.overs + data.balls/6))).toFixed(2)}`;
                }
            }

            document.getElementById('d-t1-score').innerHTML = t1Text;
            document.getElementById('d-t2-score').innerHTML = t2Text;

            const batters = data.battingCard || [];
            const bowlers = data.bowlingCard || [];
            
            const sortedBatters = [...batters].sort((a,b) => b.runs - a.runs).slice(0, 3);
            document.getElementById('summary-batters').innerHTML = sortedBatters.map(p => `
                <div class="flex justify-between items-center text-sm border-b border-gray-800 pb-2 mb-2 last:border-0">
                    <div><div class="font-bold text-white">${p.name}</div><div class="text-xs text-gray-500">${p.status}</div></div>
                    <div class="text-right"><span class="font-bold text-white">${p.runs}</span> <span class="text-xs text-gray-500">(${p.balls})</span></div>
                </div>`).join('');

            const sortedBowlers = [...bowlers].sort((a,b) => b.w - a.w).slice(0, 3);
            document.getElementById('summary-bowlers').innerHTML = sortedBowlers.map(p => `
                <div class="flex justify-between items-center text-sm border-b border-gray-800 pb-2 mb-2 last:border-0">
                    <div class="font-bold text-white">${p.name}</div>
                    <div class="text-right"><span class="font-bold text-white">${p.w}</span><span class="text-gray-500">/${p.r}</span> <span class="text-xs text-gray-500">(${p.o})</span></div>
                </div>`).join('');

            document.getElementById('full-batting-table').innerHTML = batters.map(p => `
                <tr>
                    <td class="p-3 border-b border-gray-800 font-medium text-white">${p.name} <div class="text-[10px] text-gray-500 uppercase">${p.status}</div></td>
                    <td class="p-3 border-b border-gray-800 text-right font-bold text-white">${p.runs}</td>
                    <td class="p-3 border-b border-gray-800 text-right text-gray-400">${p.balls}</td>
                    <td class="p-3 border-b border-gray-800 text-right hidden sm:table-cell text-gray-500">-</td>
                    <td class="p-3 border-b border-gray-800 text-right hidden sm:table-cell text-gray-500">-</td>
                    <td class="p-3 border-b border-gray-800 text-right text-gray-500">${(p.runs*100/Math.max(1,p.balls)).toFixed(1)}</td>
                </tr>
            `).join('');

            document.getElementById('full-bowling-table').innerHTML = bowlers.map(p => `
                <tr>
                    <td class="p-3 border-b border-gray-800 font-medium text-white">${p.name}</td>
                    <td class="p-3 border-b border-gray-800 text-right text-gray-400">${p.o}</td>
                    <td class="p-3 border-b border-gray-800 text-right text-gray-400">${p.r}</td>
                    <td class="p-3 border-b border-gray-800 text-right font-bold text-white">${p.w}</td>
                    <td class="p-3 border-b border-gray-800 text-right text-gray-500">${p.e}</td>
                </tr>
            `).join('');

            const commList = document.getElementById('comm-history-list');
            const commOver = document.getElementById('comm-current-over');
            
            if (data.currentOver && data.currentOver.length > 0) {
                commOver.innerHTML = data.currentOver.map(b => {
                    let c = "bg-gray-200";
                    if(b === "4") c = "bg-4";
                    if(b === "6") c = "bg-6";
                    if(b.includes("W") && !b.includes("WD")) c = "bg-w";
                    return `<div class="ball-circle ${c}">${b}</div>`;
                }).join('');
            } else {
                commOver.innerHTML = "<span class='text-gray-600 text-xs italic'>No balls in current over</span>";
            }

            if (data.currentOver) {
                commList.innerHTML = [...data.currentOver].reverse().map((b, i) => `
                    <div class="flex items-start gap-4 border-b border-gray-800 pb-3">
                        <div class="font-mono text-gray-500 text-xs pt-1">${data.overs}.${data.currentOver.length - i}</div>
                        <div class="flex-grow">
                            <div class="flex items-center gap-2">
                                <span class="font-bold text-white">${b.includes('W') && !b.includes('WD') ? "WICKET" : (b == "4" ? "FOUR" : (b=="6" ? "SIX" : "RUNS"))}</span>
                                <span class="ball-circle ${b=="4"?"bg-4":(b=="6"?"bg-6":(b.includes("W")?"bg-w":"bg-gray-300"))} w-5 h-5 text-[9px]">${b}</span>
                            </div>
                            <p class="text-xs text-gray-500 mt-1">Bowler to Batter</p>
                        </div>
                    </div>
                `).join('');
            }
        }

        function switchTab(tab) {
            ['summary', 'scorecard', 'commentary'].forEach(t => {
                document.getElementById(`view-${t}`).classList.add('hidden');
                document.getElementById(`tab-${t}`).classList.remove('active');
            });
            document.getElementById(`view-${tab}`).classList.remove('hidden');
            document.getElementById(`tab-${tab}`).classList.add('active');
        }
    </script>
</body>
</html>
